!function(){function e(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}();var pooolPremium=function(e){function n(e,n,o){var t="";o&&(t="expires="+new Date(o).toUTCString()+";"),document.cookie=P+e+"="+n+";"+t+"path=/;domain="+i()}function o(e){document.cookie=P+e+"=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;domain="+i()}function t(e){for(var n=P+e+"=",o=document.cookie.split(";"),t=0;t<o.length;t++){for(var i=o[t];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(n))return i.substring(n.length,i.length)}return null}function i(){var e=document.location.hostname;return"."+(e=e.split(".").reverse())[1]+"."+e[0]}function r(){return t("cid")}function c(){return null!==r()}function d(){return null!==t("idp")}function a(n){function o(){i.removeEventListener("webkitAnimationEnd",o),i.removeEventListener("animationend",o),s()}h("Release Widget with animation "+(n?"true":"false")),T||g();var t=document.querySelector(e.postContainer),i=document.querySelector(e.widgetContainer+"-content");i&&t&&(n&&void 0!==x?(i.addEventListener("webkitAnimationEnd",o),i.addEventListener("animationend",o),i.className="fadeout"):s())}function s(){h("Remove widget");var n=document.querySelector(e.postContainer),o=document.querySelector(e.widgetContainer+"-content");n&&(n.setAttribute("class",""),n.removeAttribute("data-poool"),n.removeAttribute("style"),n.classList.remove(e.postContainer.replace(".",""))),o&&o.parentNode.removeChild(o)}function l(){h("Add forms"),document.querySelector(e.widgetContainer+"-form")&&(document.querySelector(e.widgetContainer+"-form").innerHTML=M,document.getElementById("paywall_login").onsubmit=function(e){return e.stopPropagation(),f(),!1},document.getElementById("paywall_sub").onsubmit=function(e){return e.stopPropagation(),p(),!1})}function u(e,n){document.getElementById(e).innerText=F[n]}function m(){var e,n=document.querySelectorAll(".paywall_error");for(e=0;e<n.length;e++)n[e].innerText=""}function p(){h("sumitSub");var n=document.getElementById("paywall_sub_id").value,o=document.getElementById("paywall_sub_cp").value,i=new XMLHttpRequest;m(),""===n&&u("paywall_sub_id_error",1),""===o&&u("paywall_sub_cp_error",1),""!==n&&""!==o&&(i.onreadystatechange=function(){4===this.readyState&&200==this.status&&w(JSON.parse(i.responseText),"paywall_sub","paywall_sub_error","id2")},i.open("POST",e.api_prefix_url+"/checksub",!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send("sub="+encodeURIComponent(n)+"&cp="+encodeURIComponent(o)+"&ek="+encodeURIComponent(O)+"&idr="+encodeURIComponent(t("idr"))))}function f(){h("sumitLogin");var n=document.getElementById("paywall_login_email").value,o=document.getElementById("paywall_login_password").value,i=new XMLHttpRequest;m(),""===n&&u("paywall_login_email_error",1),""===o&&u("paywall_login_password_error",1),""!==n&&""!==o&&(i.onreadystatechange=function(){4===this.readyState&&200==this.status&&w(JSON.parse(i.responseText),"paywall_login","paywall_login_error","id3")},i.open("POST",e.api_prefix_url+"/checklogin",!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send("username="+encodeURIComponent(n)+"&password="+encodeURIComponent(o)+"&ek="+encodeURIComponent(O)+"&idr="+encodeURIComponent(t("idr"))))}function _(){h("checkCookie");var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===this.readyState&&200==this.status){var e=JSON.parse(i.responseText);null!==e[0]?A=!0:null!==e[1]&&(n("idr",e[1]),o("idp"),o("ids"))}},i.open("POST",e.api_prefix_url+"/checkcookie",!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send("ek="+encodeURIComponent(O)+"&idp="+encodeURIComponent(t("idp"))+"&idr="+encodeURIComponent(t("idr")))}function w(e,t,i,r){null!==e[0]?(n("idp",e[0],e[2]),n("ids",r,e[2]),o("idr"),E(),b(t),a()):null!==e[1]?(n("idr",e[1]),o("idp"),o("ids"),null!==e[2]&&u(i,e[2])):null!==e[2]&&(o("idr",e[1]),o("idp"),o("ids"),u(i,e[2]))}function g(e){h("onRelease"),T||(T=!0,b("release"))}function v(){h("onLock");var n,o=document.querySelector(e.widgetContainer+"-fallback"),t=document.querySelector(e.postContainer);o&&(o.parentNode.removeChild(o),t&&t.getAttribute("style")&&(n=V>0?V:100===e.percent?0:parseInt(t.offsetHeight*(100/(100-e.percent)),10),t.setAttribute("style","height: "+n+"px; overflow: hidden"))),T||b("lock")}function y(){h("Add global css"),document.querySelector(e.widgetContainer)&&void 0!==L&&window.setTimeout(function(){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=L,document.head.appendChild(e)},1e3)}function b(e){var n=new CustomEvent("cmi_premium_on_"+e);-1===W.indexOf("cmi_premium_on_"+e)&&(W.push("cmi_premium_on_"+e),document.dispatchEvent(n),h("dispatch event "+e))}function h(e){if(U)try{console.log("%c CMI Premium %c "+e,"background-color:#f04a38;color:white","background-color:#none;color: #f04a38")}catch(n){console.log("CMI premium: "+e)}}function C(){h("initFallbackWidget");var n,o,t=document.querySelector(e.postContainer),i=document.querySelector(e.widgetContainer);i&&t&&(V=parseInt(t.offsetHeight*(100-e.percent)/100,10),t.setAttribute("style",";;height: "+V+"px; overflow: hidden"),i.innerHTML='<div id="'+e.widgetContainer.substr(1)+'-fallback">'+N+"</div>",n=document.querySelector("#paywall_subscribe_button"),o=document.querySelector("#paywall_login_button"),n&&n.addEventListener("click",function(){b("subscribe_click"),window.location=e.subscriptionUrl}),o&&o.addEventListener("click",function(){b("login_click"),window.location=e.loginUrl}),b("lock"))}function k(n){h("init Poool with consent "+(n?"true":"false"));var o="premium"===e.pageView;if(function(e,n,o,t,i,r,c){e[i]=e[i]||function(){(e[i]._q=e[i]._q||[]).push(arguments)},r=n.createElement(o),c=n.getElementsByTagName(o)[0],r.async=1,r.src="https://assets.poool.fr/poool.min.js",c.parentNode.insertBefore(r,c)}(window,document,"script",0,"poool"),poool("init",e.appId),poool("config","cookies_enabled",n||!1),poool("config","custom_segment",e.custom_segment,!0),poool("config","force_widget",e.force_widget,!0),poool("config","user_is_premium",A),poool("config","custom_reader_id",r()),poool("config","debug",e.debug),poool("config","mode",e.mode,!0),o){if(poool("config","percent",e.percent,!0),poool("config","post_container",e.postContainer,!0),poool("config","widget_container",e.widgetContainer,!0),poool("config","login_button_enabled",!0),poool("config","login_url",e.loginUrl,!0),poool("config","subscription_url",e.subscriptionUrl,!0),poool("text",e.texts,!0),e.custom)for(q=0;q<e.custom.length;q+=1)for(S in e.custom[q])if(e.custom[q].hasOwnProperty(S))for(I in e.custom[q][S])e.custom[q][S].hasOwnProperty(I)&&poool(S,I,e.custom[q][S][I],!0);poool("on","onLock",v),poool("on","onRelease",g),poool("on","onSubscribeClick",function(e){b("subscribe_click")}),poool("on","onLoginClick",function(e){b("login_click")})}poool("send","page-view",e.pageView)}function E(){h("initUser"),c()?(A=!0,null===t("ids")&&n("ids","id1")):d()&&(A=!0),A&&b("is_identified")}if("undefined"===e)throw new Error("premiumConf must be defined");var S,I,q,x,L,R=!1,T=!1,A=!1,U=e.debug,O=navigator.platform,P="lauser_",M="",N="",W=[],V=0,F={0:"Une erreur est survenue. Merci de réessayer",1:"Merci de remplir ce champ",2:"Votre adresse e-mail est invalide",3:"Votre numéro d'abonné est invalide",4:"Votre code postal est invalide",5:"Vous avez fait plus de 5 tentatives, merci de retenter dans 10 mn",6:"Erreur d'identification"};return{init:function(n){if(h("api: init"),!R){R=!0;var o=document.querySelector(e.postContainer);o&&o.getAttribute("data-poool")&&(e.percent=parseInt(o.getAttribute("data-poool"),10)),E(),!A&&e.checkFirstCookie?_():A&&(T=!0,s()),T||(y(),l(),C()),k(n)}},active:function(e){h("api: active"),(!T&&d()||c())&&(E(),a(e))},addForms:function(e){h("api: addForms"),M=e},setErrorMessages:function(e){h("api: setErrorMessages");for(q in e)e.hasOwnProperty(q)&&(F[q]=e[q])},setWidgetAnimationName:function(e){h("api: setWidgetAnimationName with name "+e),x=e},setWidgetCss:function(e){h("api: setWidgetCss"),L=e},setFallbackWidget:function(e){h("api: setFallbackWidget"),N=e}}};!function(){"use strict";var e,n=function(n){function o(e){(new Image).src="https://res.elle.fr/an.ellef?s=572699&s2=0&p=paywall::"+e+"::"+tc_vars.label+"&ts="+tc_timestamp+"&clic=A"+tc_cons_xtidc}var t;e||(e=!0,document.addEventListener("cmi_premium_on_lock",function(e){(new Image).src="https://res.elle.fr/an.ellef?s=572699&lng=fr&type=AT&ati=INT-600-[paywall-v0]&ts="+tc_timestamp+tc_cons_xtidc}),document.addEventListener("cmi_premium_on_release",function(e){o("deblocage")}),document.addEventListener("cmi_premium_on_subscribe_click",function(e){o("inscription")}),document.addEventListener("cmi_premium_on_login_click",function(e){o("connexion")}),document.addEventListener("cmi_premium_on_paywall_sub",function(e){o("connexion_abonne")}),document.addEventListener("cmi_premium_on_paywall_login",function(e){o("connexion_jemabonne")}),window.cmiPremiumIsIdentified=!1,document.addEventListener("cmi_premium_on_is_identified",function(){window.cmiPremiumIsIdentified=!0}),pooolConf&&(pooolConf.custom=[{style:{custom_css:pooolCustomCss}}]),(t=pooolPremium(pooolConf)).addForms(pooolForms),t.setErrorMessages({3:"Votre numéro d'abonnée est invalide"}),t.setWidgetCss(pooolWidgetCss),t.setFallbackWidget(pooolFallback_widget),t.setWidgetAnimationName("fadeout"),t.init(n),document.addEventListener("passmedia_ready",function(e){t.active()}),document.querySelector("#chck1")&&(document.querySelector("#chck1").onclick=function(){o("jemeconnecteidentifiants")}),document.querySelector("#paywall_where")&&(document.querySelector("#paywall_where").onclick=function(){o("trouver_num_abonne")}),document.querySelector("#paywall_forget")&&(document.querySelector("#paywall_forget").onclick=function(){o("mot_de_passe_perdu")}))};window.didomiEventListeners=window.didomiEventListeners||[],window.didomiEventListeners.push({event:"consent.changed",listener:function(){n(-1!==window.didomiState.didomiVendorsConsent.indexOf("poool"))}}),window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push(function(){""===window.didomiState.didomiVendorsConsent&&""===window.didomiState.didomiVendorsConsentDenied||n(-1!==window.didomiState.didomiVendorsConsent.indexOf("poool"))})}();