



/* ControlTag Loader for CMI France 24a83500-cf95-4a73-baa8-071cdcc6b5d4 */
(function(w, cs) {
  
  if (/Twitter for iPhone/.test(w.navigator.userAgent || '')) {
    return;
  }

  var debugging = /kxdebug/.test(w.location);
  var log = function() {
    
    debugging && w.console && w.console.log([].slice.call(arguments).join(' '));
  };

  var load = function(url, callback) {
    log('Loading script from:', url);
    var node = w.document.createElement('script');
    node.async = true;  
    node.src = url;

    
    node.onload = node.onreadystatechange = function () {
      var state = node.readyState;
      if (!callback.done && (!state || /loaded|complete/.test(state))) {
        log('Script loaded from:', url);
        callback.done = true;  
        callback();
      }
    };

    
    var sibling = w.document.getElementsByTagName('script')[0];
    sibling.parentNode.insertBefore(node, sibling);
  };

  var config = {"app":{"name":"krux-scala-config-webservice","version":"3.42.1","schema_version":3},"confid":"Jj_mwrKG","context_terms":[{"id":"Kbkh2u3Q","value":"Lunettes de vue"},{"id":"JxTPqig6","value":"Ralph Lauren"},{"id":"Ka7_Xc_u","value":"nicotine"},{"id":"KWQxarjh","value":"cheveux fragiles"},{"id":"KH8uYLat","value":"Phytothérapie"},{"id":"Kbkh3H9I","value":"problèmes de vue"},{"id":"KHMGFKFn","value":"Gorge irritée"},{"id":"Ka7_Z7xR","value":"graines germées"},{"id":"KZDtcXWA","value":"cheveux lisses"},{"id":"Ka7_XCaS","value":"Fatigue"},{"id":"KYiQjE1O","value":"anti-rides"},{"id":"KYiQjH6P","value":"soin anti-âge"},{"id":"Ka7_ZKhk","value":"peau éclatante"},{"id":"KMeSeL_b","value":"Rolex"},{"id":"JxTQQPBu","value":"Yves Saint Laurent"},{"id":"KGTC1mzn","value":"guerlain"},{"id":"KYiQjFnt","value":"peau mature"},{"id":"J6ZHJzhS","value":"coiffure de mariée"},{"id":"Ka7_anCT","value":"sans gluten"},{"id":"Kh0S8A68","value":"Vuitton"},{"id":"KMeSeOaz","value":"Jaeger lecoultre"},{"id":"KMdyhCoM","value":"hermès"},{"id":"KMeSeX1u","value":"Baum et Mercier"},{"id":"J6ZHJzUH","value":"coiffure de mariage"},{"id":"J7Hye5M2","value":"Soin hydratant"},{"id":"KPHgVPMx","value":"manger bio"},{"id":"Ka7_aWqy","value":"alimentation équilibrée"},{"id":"KGTC1l5q","value":"peau grasse"},{"id":"KYiQjHiQ","value":"anti-taches"},{"id":"KPHgVodn","value":"soins bio"},{"id":"KMcz3gzK","value":"prada"},{"id":"KYiQjGml","value":"peau fatiguée"},{"id":"KKGaIqyb","value":"séjour en France"},{"id":"Kbkh2zI3","value":"Lunettes solaires"},{"id":"KGTC1m8W","value":"dior"},{"id":"KWQxasZ1","value":"cheveux cassants"},{"id":"KWBaE5wJ","value":"pollen"},{"id":"Ka7_ZFFT","value":"peau fraîche"},{"id":"KcjMfMuA","value":"bulgari"},{"id":"Kbkh3FKw","value":"Ophtalmologue"},{"id":"KHMGFJ44","value":"Maux de gorge"},{"id":"KMd8DB_i","value":"Gucci"},{"id":"KH8uYNIy","value":"soins du corps"},{"id":"Ka7_ZajK","value":"crème antioxydante"},{"id":"KZbx81NI","value":"commerce équitable"},{"id":"KcjMfGUd","value":"Chaumet"},{"id":"KPHgVTU0","value":"alimentation bio"},{"id":"KH8uYMfl","value":"medecine douce"},{"id":"KMeSekSn","value":"Breitling"},{"id":"KYiQjFz9","value":"vieillissement de la peau"},{"id":"J3u9rWnU","value":"cheveux frisés"},{"id":"KezorQqG","value":"déménagement"},{"id":"Ka7_aRLY","value":"produit bio"},{"id":"J-XBS2pc","value":"taux d'emprunt"},{"id":"KMeSeVYM","value":"Tag Heuer"},{"id":"KOEm7vz4","value":"projet immobilier"},{"id":"Ka7_VhAR","value":"détoxifiant"},{"id":"Kbkiig5s","value":"Lunettes de soleil"},{"id":"Ka7_ZVOd","value":"crème hydratante"},{"id":"KM2sH4bj","value":"Peau sensible"},{"id":"Ka7_ZwuJ","value":"Anti-pollution"},{"id":"Kbkh273v","value":"Opticien"},{"id":"KPHgVqhb","value":"cosmétiques bio"},{"id":"KPHgVVYU","value":"produits bio"},{"id":"KH8uYL_R","value":"Aromathérapie"},{"id":"KZbx83WO","value":"economie d'energie"},{"id":"KZDtcYti","value":"cheveux bouclés"},{"id":"KGTC1nfC","value":"givenchy"},{"id":"KWBaE6EN","value":"allergie"},{"id":"KWQxao0u","value":"cheveux abîmés"},{"id":"KMd8DAnC","value":"Burberry"},{"id":"KezorWcn","value":"déménager"},{"id":"KH8uYM_S","value":"soins du visage"},{"id":"KWQxar12","value":"cheveux fragilisés"},{"id":"KcjMfvEg","value":"chopard"},{"id":"Ka7_asiH","value":"végétarien"},{"id":"Ka7_Z2ML","value":"antioxydants"},{"id":"KPHgVsm8","value":"coloration bio"},{"id":"KHMGFJew","value":"Mal de gorge"},{"id":"KH8uYMJW","value":"huile essentielle"},{"id":"KMd8DC5c","value":"Lanvin"},{"id":"KYRd96kL","value":"anti-cernes"},{"id":"Ka7_aL1b","value":"manger sain"},{"id":"KazXFqzY","value":"crème solaire"},{"id":"KKGaIrFF","value":"vacances en France"},{"id":"KMeSedGf","value":"Omega"},{"id":"KYiQjHWb","value":"crème de nuit"},{"id":"KZbx81v8","value":"eco-responsable"}],"publisher":{"name":"CMI France","active":true,"uuid":"24a83500-cf95-4a73-baa8-071cdcc6b5d4","version_bucket":"stable","id":1607},"params":{"first_party_dmp_managed":true,"link_header_bidder":false,"site_level_supertag_config":"site","recommend":false,"control_tag_pixel_throttle":100,"fingerprint":false,"optout_button_optout_text":"Browser Opt Out","user_data_timing":"load","consent_active":true,"use_central_usermatch":true,"store_realtime_segments":false,"tag_source":false,"link_hb_start_event":"ready","optout_button_optin_text":"Browser Opt In","first_party_uid":true,"link_hb_timeout":2000,"link_hb_adserver_subordinate":true,"optimize_realtime_segments":false,"link_hb_adserver":"dfp","target_fingerprint":false,"context_terms":true,"optout_button_id":"kx-optout-button","dfp_premium":true,"control_tag_namespace":"lagardere"},"prioritized_segments":[],"realtime_segments":[],"services":{"userdata":"//cdn.krxd.net/userdata/get","contentConnector":"https://connector.krxd.net/content_connector","stats":"//apiservices.krxd.net/stats","optout":"//cdn.krxd.net/userdata/optout/status","event":"//beacon.krxd.net/event.gif","set_optout":"https://consumer.krxd.net/consumer/optout","data":"//beacon.krxd.net/data.gif","link_hb_stats":"//beacon.krxd.net/link_bidder_stats.gif","userData":"//cdn.krxd.net/userdata/get","link_hb_mas":"https://link.krxd.net/hb","config":"//cdn.krxd.net/controltag/{{ confid }}.js","social":"//beacon.krxd.net/social.gif","addSegment":"//cdn.krxd.net/userdata/add","pixel":"//beacon.krxd.net/pixel.gif","um":"https://usermatch.krxd.net/um/v2","controltag":"//cdn.krxd.net/ctjs/controltag.js.{hash}","loopback":"https://consumer.krxd.net/consumer/tmp_cookie","remove":"https://consumer.krxd.net/consumer/remove/24a83500-cf95-4a73-baa8-071cdcc6b5d4","click":"https://apiservices.krxd.net/click_tracker/track","stats_export":"//beacon.krxd.net/controltag_stats.gif","userdataApi":"//cdn.krxd.net/userdata/v1/segments/get","cookie":"//beacon.krxd.net/cookie2json","proxy":"//cdn.krxd.net/partnerjs/xdi","consent_get":"https://consumer.krxd.net/consent/get/24a83500-cf95-4a73-baa8-071cdcc6b5d4","consent_set":"https://consumer.krxd.net/consent/set/24a83500-cf95-4a73-baa8-071cdcc6b5d4","is_optout":"https://beacon.krxd.net/optout_check","impression":"//beacon.krxd.net/ad_impression.gif","transaction":"//beacon.krxd.net/transaction.gif","log":"//jslog.krxd.net/jslog.gif","portability":"https://consumer.krxd.net/consumer/portability/24a83500-cf95-4a73-baa8-071cdcc6b5d4","set_optin":"https://consumer.krxd.net/consumer/optin","usermatch":"//beacon.krxd.net/usermatch.gif"},"experiments":[],"site":{"name":"elle.fr","cap":255,"id":20770,"organization_id":1607,"uid":"Jj_mwrKG"},"tags":[{"id":19855,"name":"Krux Track Social","content":"<script type=\"text/javascript\">Krux('social.init');</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":null,"template_replacement":true,"internal":true,"criteria":[],"collects_data":true},{"id":19856,"name":"Technographic Data provider tag","content":"<script>\r\n// this tag is intentionally blank\r\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":null,"template_replacement":true,"internal":true,"criteria":["and",["and",["and",["<=","$frequency",3]]]],"collects_data":true},{"id":19857,"name":"Krux Geographic Data provider tag","content":null,"target":null,"target_action":"append","timing":"onload","method":"document","priority":null,"template_replacement":true,"internal":true,"criteria":["and",["and",["and",["<=","$frequency",3]]]],"collects_data":true},{"id":19864,"name":"InfoGroup provider tag","content":null,"target":null,"target_action":"append","timing":"onload","method":"document","priority":null,"template_replacement":true,"internal":true,"criteria":["and",["and",["and",["<=","$frequency",3]]]],"collects_data":true},{"id":19866,"name":"WhoToo Partner Network provider tag","content":null,"target":null,"target_action":"append","timing":"onload","method":"document","priority":null,"template_replacement":true,"internal":true,"criteria":["and",["and",["and",["<=","$frequency",3]]]],"collects_data":true},{"id":29484,"name":"DataLayer - elle.fr","content":"<script>\n    // creating dataLayer object, Krux will retrieve page and user attributes\n    var dataLayerLagardere = (dataLayerLagardere && dataLayerLagardere.page && dataLayerLagardere.user) ? dataLayerLagardere : {\n        \"page\": {},\n        \"user\": {}\n    };\n\n    // populate dataLayer object with key value pairs\n    (function() {\n        // *** PLEASE DO NOT MODIFY - START ***\n        var page_attr = window.dataLayerLagardere.page;\n        var user_attr = window.dataLayerLagardere.user;\n        // *** PLEASE DO NOT MODIFY - END ***\n\n        var tc_vars = window.tc_vars !== undefined ? window.tc_vars : \"\";\n      // filling dataLayer object with values from global variables\n        if (tc_vars) {\n            // jshint -W069\n            page_attr['tc_vars.content_node_id'] = tc_vars.content_node_id ?  \"elle-\" + tc_vars.content_node_id : \"\";\n          \tpage_attr['tc_vars.content_keywords'] = tc_vars.content_keywords ? tc_vars.content_keywords : \"\";\n            page_attr['tc_vars.content_class'] = tc_vars.content_class ? tc_vars.content_class : \"\";\n            page_attr['tc_vars.level_1'] = tc_vars.level_1 ? tc_vars.level_1 : \"\";\n            page_attr['tc_vars.level_2'] = tc_vars.level_2 ? tc_vars.level_2 : \"\";\n            page_attr['tc_vars.level_3'] = tc_vars.level_3 ? tc_vars.level_3 : \"\";\n            page_attr['tc_vars.content_tpl'] = tc_vars.content_tpl ? tc_vars.content_tpl : \"\";\n            page_attr['tc_vars.module'] = tc_vars.module ? tc_vars.module : \"\";\n            page_attr['tc_vars.view'] = tc_vars.view ? tc_vars.view : \"\";\n            page_attr['tc_vars.custom1'] = tc_vars.custom1 ? tc_vars.custom1 : \"\";\n            page_attr['tc_vars.custom2'] = tc_vars.custom2 ? tc_vars.custom2 : \"\";\n            page_attr['tc_vars.user_id'] = tc_vars.user_id ? tc_vars.user_id : \"\";\n            page_attr['tc_vars.content_comment'] = tc_vars.content_comment ? tc_vars.content_comment : \"\";\n          \tpage_attr['sectionmap'] = \"Elle\"+ (tc_vars.level_1 ? \"|\" + tc_vars.level_1 : \"\") + (tc_vars.level_2 ? \"|\" + tc_vars.level_2 : \"\") + (tc_vars.level_3 ? \"|\" + tc_vars.level_3 : \"\");\n\n            // setting page attributes for section and subsection values\n            // these will be used by the DataLayer Ingester\n            page_attr['section'] = tc_vars.level_1 ? tc_vars.level_1 : \"\";\n            page_attr['subsection'] = tc_vars.level_2 ? tc_vars.level_2 : \"\";\n           \t\n        }\n\n        page_attr['tc_url_1'] = window.tc_url_1 ? window.tc_url_1 : \"\";\n        page_attr['tc_url_2'] = window.tc_url_2 ? window.tc_url_2 : \"\";\n        page_attr['tc_url_3'] = window.tc_url_3 ? window.tc_url_3 : \"\";\n        page_attr['tc_fulldomain'] = window.location.hostname;\n        page_attr['tc_url_no_query'] = location.host + location.pathname;\n      \n       // populate tc_vars.label with either tc_vars.label (if it exists) or tc_title\n        page_attr['tc_vars.label'] = tc_vars && tc_vars.label ? tc_vars.label : (window.tc_title ? window.tc_title : \"\");\n\t\t//OBD\n\t\t        function getUrlHash(name) {\n    \tname = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n    \tvar regex = new RegExp('[\\\\?&#]' + name + '=([^&#]*)');\n    \tvar results = regex.exec(location.hash);\n    \treturn results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n\t\t};\n\t\tuser_attr['cl_lacid'] = getUrlHash('lacid')? getUrlHash('lacid'): \"\";\n      \tuser_attr['lg_lauser_cid'] = tC.internalvars.lauser_cid ? \"elle_\" + tC.internalvars.lauser_cid : \"\";\n    })();\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":null,"template_replacement":true,"internal":false,"criteria":[],"collects_data":true},{"id":29496,"name":"DTC dataLayerLagardere - elle.fr","content":"<script>\n(function(){\n  var _kx = Krux;\n  setTimeout(function(){\n    var dataObj = _kx('scrape.js_global', 'dataLayerLagardere'),\n        userKeys = 'user',\n        omitKeys = 'none',\n        custDelimit = 'none',\n        prefix = 'undefined_',\n        config = {\n            'userKeys': userKeys ? userKeys.split(',') : undefined,\n            'omitKeys': omitKeys ? omitKeys.split(',') : [],\n            'customDelimited': custDelimit ? custDelimit.split(',') : undefined,\n            'caseSensitive': 'true' === 'true',\n            'useFullPath': 'false' === 'true',\n            'useLastValue': 'false' === 'true',\n            'convertAttrNames': [],\n            'keyNameMap': {\n              \t\t\t\t\"page_attr_content_node_id\": \"page_attr_tc_vars.content_node_id\",\n              \t\t\t\t\"page_attr_content_keywords\": \"page_attr_tc_vars.content_keywords\",\n              \t\t\t\t\"page_attr_content_class\": \"page_attr_tc_vars.content_class\",\n              \t\t\t\t\"page_attr_level_1\": \"page_attr_tc_vars.level_1\",\n\t\t\t\t\t\t    \"page_attr_level_2\": \"page_attr_tc_vars.level_2\",\n\t\t\t\t\t\t    \"page_attr_level_3\": \"page_attr_tc_vars.level_3\",\n              \t\t\t\t\"page_attr_content_tpl\": \"page_attr_tc_vars.content_tpl\",\n              \t\t\t\t\"page_attr_module\": \"page_attr_tc_vars.module\",\n              \t\t\t\t\"page_attr_view\": \"page_attr_tc_vars.view\",\n              \t\t\t\t\"page_attr_custom1\": \"page_attr_tc_vars.custom1\",\n              \t\t\t\t\"page_attr_custom2\": \"page_attr_tc_vars.custom2\",\n              \t\t\t\t\"page_attr_user_id\": \"page_attr_tc_vars.user_id\",\n\t\t\t\t\t\t    \"page_attr_content_comment\": \"page_attr_tc_vars.content_comment\",\n\t\t\t\t\t\t    \"page_attr_sectionmap\": \"page_attr_sectionmap\",\n              \t\t\t\t\"page_attr_section\": \"page_attr_section\",\n              \t\t\t\t\"page_attr_subsection\": \"page_attr_subsection\",\n              \t\t\t\t\"page_attr_url_1\": \"page_attr_tc_url_1\",\n              \t\t\t\t\"page_attr_url_2\": \"page_attr_tc_url_2\",\n              \t\t\t\t\"page_attr_url_3\": \"page_attr_tc_url_3\",\n              \t\t\t\t\"page_attr_tc_fulldomain\": \"page_attr_tc_fulldomain\",\n              \t\t\t\t\"page_attr_tc_url_no_query\": \"page_attr_tc_url_no_query\",\n              \t\t\t\t\"page_attr_label\": \"page_attr_tc_vars.label\"\n\t\t\t\t\t\t  }\n        };\n    if (!prefix.match(/^$|null|undefined|false/)) {\n        config.convertAttrNames.push({\n            pattern: /((?:page|user)_attr_)/,\n            replacement: '$1' + prefix\n        });\n    }\n    config.omitKeys.push(/gtm\\./);\n    _kx('ingestDataLayer', dataObj, config);\n  },100);\n})();\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":null,"template_replacement":true,"internal":true,"criteria":["and",["and",["and",["afterTag",29484]]]],"collects_data":true}],"usermatch_tags":[{"id":6,"name":"Google User Match","content":"<script>\r\n(function() {\r\n\r\nvar kuid = Krux('get', 'user');\r\n  if(kuid){\r\n  // original google user match tag. will be deprecated june 1, 2020\r\n  new Image().src = 'https://usermatch.krxd.net/um/v2?partner=google';\r\n\r\n  // new google user match where they host the match table. The KUID needs to be base64 encoded, but the ids sent will be regular kuids\r\n  var baseEncodedKuid = btoa(kuid).replace(/=$/, '');\r\n  new Image().src = 'https://cm.g.doubleclick.net/pixel?google_nid=krux_digital&google_hm='+baseEncodedKuid;\r\n  }\r\n\r\n})();\r\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":1,"template_replacement":false,"internal":true,"criteria":[],"collects_data":true},{"id":25,"name":"eXelate Media","content":"<script>\r\n(function(){\r\n  var kuid = Krux('get', 'user');\r\n  if (kuid) {\r\n    Krux('require:http').pixel({\r\n      url: \"//loadm.exelator.com/load\",\r\n      data: {\r\n          _kdpid: 'e4942ff0-4070-4896-a7ef-e6a5a30ce9f9',\r\n          buid: kuid,\r\n          p: '204',\r\n          g: '270',\r\n          j: '0'\r\n      }});\r\n  }\r\n  })();\r\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":1,"template_replacement":false,"internal":true,"criteria":[],"collects_data":true},{"id":71,"name":"Xandr Connect","content":"<script>\r\n(function(){\r\n        var kuid = Krux('get', 'user');\r\n        if (kuid) {\r\n            var prefix = location.protocol == 'https:' ? \"https:\" : \"http:\";\r\n            var kurl = prefix + '//beacon.krxd.net/usermatch.gif?adnxs_uid=$UID';\r\n            var appnexus_url = '//ib.adnxs.com/getuid?' + kurl\r\n            var i = new Image();\r\n            i.src = appnexus_url;\r\n        }\r\n})();\r\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":1,"template_replacement":false,"internal":true,"criteria":[],"collects_data":true},{"id":86,"name":"Neustar AdAdvisor S2S","content":"<script>\r\n(function(){\r\nvar kuid = Krux('get', 'user');\r\nvar prefix = window.location.protocol == 'https:' ? 'https:' : 'http:';\r\nif (kuid) {\r\n    new Image().src = prefix + '//aa.agkn.com/adscores/g.js?sid=9212244187&_kdpid=2111c0af-fc3a-446f-ab07-63aa74fbde8e';\r\n     }\r\n})();\r\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":1,"template_replacement":false,"internal":true,"criteria":[],"collects_data":true},{"id":10,"name":"Rubicon User Match","content":"<script>\r\n(function(){\r\n  if (window.Krux) {\r\n    var kuid = window.Krux('get', 'user');\r\n    if (kuid && typeof kuid != 'undefined') {\r\n       var rubicon_url = 'https://token.rubiconproject.com/token?pid=27384&puid=' + kuid;\r\n       var i = new Image();\r\n       i.src = rubicon_url;\r\n    }\r\n  }\r\n})();\r\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":2,"template_replacement":false,"internal":true,"criteria":[],"collects_data":true},{"id":72,"name":"Xandr Extension User Match","content":"<script>\r\n(function(){\r\n  var kuid = Krux('get', 'user');\r\n  var cbust = Math.round(new Date().getTime() / 1000);\r\n  if (kuid) {\r\n    Krux('require:http').pixel({\r\n      url: \"//ib.adnxs.com/pxj\",\r\n      data: {\r\n          bidder: '140',\r\n          seg: '381342',\r\n          action: \"setuid('\" + kuid + \"')\",\r\n          bust: cbust\r\n      }});\r\n  }\r\n  })();\r\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":3,"template_replacement":false,"internal":true,"criteria":[],"collects_data":true},{"id":82,"name":"DataLogix - Legacy","content":"<script>\r\n    (function() {\r\n        var kuid = Krux('get', 'user');\r\n        if (kuid) {\r\n            var prefix = location.protocol == 'https:' ? \"https:\" : \"http:\";\r\n            var kurl_params = encodeURIComponent(\"_kuid=\" + kuid + \"&_kdpid=2dd640a6-6ebd-4d4f-af30-af8baa441a0d&dlxid=<na_id>&dlxdata=<na_da>\");\r\n            var kurl = prefix + \"//beacon.krxd.net/data.gif?\" + kurl_params;\r\n            var dlx_url = '//r.nexac.com/e/getdata.xgi?dt=br&pkey=gpwn29rvapq62&ru=' + kurl;\r\n            var i = new Image();\r\n            i.src = dlx_url;\r\n        }\r\n    })();\r\n</script>","target":null,"target_action":"append","timing":"onload","method":"document","priority":3,"template_replacement":false,"internal":true,"criteria":[],"collects_data":true}],"link":{"adslots":{},"bidders":{}}};
  
  for (var i = 0, tags = config.tags, len = tags.length, tag; (tag = tags[i]); ++i) {
    if (String(tag.id) in cs) {
      tag.content = cs[tag.id];
    }
  }

  
  var esiGeo = String(function(){/*
   <esi:include src="/geoip_esi"/>
  */}).replace(/^.*\/\*[^{]+|[^}]+\*\/.*$/g, '');

  if (esiGeo) {
    log('Got a request for:', esiGeo, 'adding geo to config.');
    try {
      config.geo = w.JSON.parse(esiGeo);
    } catch (__) {
      
      log('Unable to parse geo from:', config.geo);
      config.geo = {};
    }
  }



  var proxy = (window.Krux && window.Krux.q && window.Krux.q[0] && window.Krux.q[0][0] === 'proxy');

  if (!proxy || true) {
    

  load('//cdn.krxd.net/ctjs/controltag.js.e4cdf7ad64ebac73f207c1ce55cc1727', function() {
    log('Loaded stable controltag resource');
    Krux('config', config);
  });

  }

})(window, (function() {
  var obj = {};
  
  return obj;
})());
